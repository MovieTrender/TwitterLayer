@NicoAlmagro broke @RafaelNadal serve three times in the deciding set to hand the eight-time champion his first loss at the Barcelona Open.