World tennis number one Rafael Nadal has suffered a three set quarterfinal loss to fellow Spaniard Nicolas Almagro in Barcelona.